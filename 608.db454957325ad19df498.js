(self.webpackChunkbachelor_thesis_code=self.webpackChunkbachelor_thesis_code||[]).push([[608],{801:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.VisualizerForCurrentlyActiveBSplineControlPoint=void 0;var o=r(9516),s=r(6735),a=function(e){function t(t,r){var i=e.call(this,r)||this;return i.p5=t,i.bSplineDemo=r,i}return n(t,e),t.prototype.drawInfluenceOfCurrentlyActiveCtrlPt=function(){var e=this,t=this.bSplineDemo.controlPoints.slice(),r=t.findIndex((function(e){return e.hovering||e.dragging}));if(-1!=r){var i=r,n=t[i],a=this.bSplineDemo.degree,u=this.bSplineDemo.basisFunctions[a][r],h=this.bSplineDemo.knotVector,l=o.createArrayOfEquidistantAscendingNumbersInRange(100,h[Math.max(i,this.bSplineDemo.firstKnotIndexWhereCurveDefined)],h[Math.min(i+a+1,this.bSplineDemo.firstKnotIndexWhereCurveUndefined)]).map((function(t){return{pos:e.bSplineDemo.getPointOnCurveWithDeBoorsAlgorithm(t),activeCtrlPtInfluence:u(t)}}));l.slice(0,-1).forEach((function(t,r){s.drawLineVector(e.p5,t.pos,l[r+1].pos,n.color,2*e.bSplineDemo.baseLineWidth*t.activeCtrlPtInfluence)}))}},t}(r(5725).InfluenceVisualizerForActiveControlPoint);t.VisualizerForCurrentlyActiveBSplineControlPoint=a},3317:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DegreeControls=void 0;var r=function(){function e(e,t,r){var i=this;this.demo=t,this.container=e.createDiv(),r&&this.container.parent(r),this.container.class("flex-row center-cross-axis disable-dbl-tap-zoom prevent-text-select"),this.container.id("degree-controls"),this.degreeText=e.createSpan("degree: "+this.demo.degree),this.degreeText.parent(this.container),this.degreeText.id("degree-text"),this.increaseDegreeButton=e.createButton('<span class="material-icons">add</span>'),this.increaseDegreeButton.parent(this.container),this.increaseDegreeButton.mouseClicked((function(){return i.increaseDegreeButtonClicked()})),this.decreaseDegreeButton=e.createButton('<span class="material-icons">remove</span>'),this.decreaseDegreeButton.parent(this.container),this.decreaseDegreeButton.mouseClicked((function(){return i.decreaseDegreeButtonClicked()})),this.updateVisibility(),this.demo.subscribe(this)}return Object.defineProperty(e.prototype,"visible",{set:function(e){this.container.style("visibility",e?"visible":"hidden")},enumerable:!1,configurable:!0}),e.prototype.update=function(e){if("controlPointsChanged"===e&&this.updateVisibility(),"degreeChanged"===e&&(this.updateDegreeText(),this.updateDecreaseDegreeButtonDisabled()),"curveTypeChanged"===e)if("emulated Bézier"==this.demo.curveType){var t="For Bézier curves the degree is always n (depends on the number of control points)";this.increaseDegreeButton.attribute("disabled","true"),this.decreaseDegreeButton.attribute("disabled","true"),this.increaseDegreeButton.attribute("title",t),this.decreaseDegreeButton.attribute("title",t)}else this.increaseDegreeButton.removeAttribute("title"),this.decreaseDegreeButton.removeAttribute("title"),this.increaseDegreeButton.removeAttribute("disabled"),this.updateDecreaseDegreeButtonDisabled()},e.prototype.updateDecreaseDegreeButtonDisabled=function(){this.demo.degree===this.demo.minDegree?this.decreaseDegreeButton.attribute("disabled","true"):"emulated Bézier"!=this.demo.curveType&&this.decreaseDegreeButton.removeAttribute("disabled")},e.prototype.increaseDegreeButtonClicked=function(){this.demo.increaseDegree()},e.prototype.decreaseDegreeButtonClicked=function(){this.demo.decreaseDegree()},e.prototype.updateVisibility=function(){this.visible=this.demo.valid},e.prototype.updateDegreeText=function(){this.degreeText.html("degree: "+this.demo.degree)},e}();t.DegreeControls=r},7806:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.BSplineVisualization=void 0;var o=r(6735),s=function(e){function t(t,r,i,n,o){var s=e.call(this,t,r,i,n)||this;return s.bSplineDemo=r,s.sketch=o,s.knotMarkerColor=s.p5.color(150),s.knotMarkerLabelColor=s.p5.color("#f400a3"),s.knotMarkerLabelBackgroundColor=s.p5.color(255,255,255,190),s}return n(t,e),t.prototype.draw=function(){if(this.demo.valid)if(this.bSplineDemo.degree>0&&this.drawKnotMarkers(),this.bSplineDemo.curveDefinedAtCurrentT){var e=this.bSplineDemo.getPointOnCurveAndTemporaryCtrlPtsCreatedUsingDeBoorsAlgo(this.bSplineDemo.t);this.drawDeBoorVisualization(e.tempPtsCreatedDuringEvaluation),this.drawPointAtT(e.pt)}else o.renderTextWithSubscript(this.p5,"This "+(this.bSplineDemo.open?"open":"clamped")+" B-Spline curve is only defined in the interval [t_{"+this.bSplineDemo.firstKnotIndexWhereCurveDefined+"}, t_{"+this.bSplineDemo.firstKnotIndexWhereCurveUndefined+"}) = ["+ +this.bSplineDemo.firstTValueWhereCurveDefined.toFixed(2)+", "+ +this.bSplineDemo.firstTValueWhereCurveUndefined.toFixed(2)+")",10,this.p5.height-20)},t.prototype.drawKnotMarkers=function(){var e=this,t=0;this.bSplineDemo.knotVector.forEach((function(r,i,n){if(void 0!==n[i-1]&&n[i-1]!==r&&(t=0),t+=1,!(i<e.bSplineDemo.firstKnotIndexWhereCurveDefined||i>e.bSplineDemo.firstKnotIndexWhereCurveUndefined||n[i+1]&&n[i+1]==r)){var s=e.bSplineDemo.getPointOnCurveWithDeBoorsAlgorithm(r);if(o.drawSquare(e.p5,s,e.knotMarkerColor,.75*e.bSplineDemo.basePointDiameter),e.bSplineDemo.showPointLabels&&0!==e.bSplineDemo.knotVector[i]){var a=s.x-(t>1?60:40),u=s.y+10,h="t="+ +e.bSplineDemo.knotVector[i].toFixed(2)+(t>1&&(n[i+1]&&n[i+1]!==r||null==n[i+1])?" ("+t+"x)":""),l=e.p5.textWidth(h);e.p5.push(),e.p5.fill(e.knotMarkerLabelBackgroundColor),e.p5.noStroke(),e.p5.rectMode(e.p5.CENTER),e.p5.rect(a+l/2,u,l+6,18),e.p5.pop(),o.renderTextWithSubscript(e.p5,h,a,u,e.knotMarkerLabelColor)}}}))},t.prototype.drawPointAtT=function(e){o.drawCircle(this.p5,e,this.colorOfPointOnCurve,1.5*this.bSplineDemo.basePointDiameter)},t.prototype.drawDeBoorVisualization=function(e){var t=this;e.length<=2||e.forEach((function(e){e.slice(0,-1).forEach((function(r,i){return o.drawLineVector(t.p5,r,e[i+1],t.color,t.bSplineDemo.baseLineWidth)})),e.forEach((function(e){return o.drawCircle(t.p5,e,t.color,t.bSplineDemo.basePointDiameter)}))}))},t}(r(5090).CurveDrawingVisualization);t.BSplineVisualization=s},1242:function(e,t){"use strict";var r=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,i=t.length,n=e.length;r<i;r++,n++)e[n]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.CurveTypeControls=void 0;var n=function(){function e(e,t){var n=this;this.bSplineDemo=e,this.parentContainerId=t,this.radioButtons=[],e.subscribe(this);var o="curveType";this.radioButtons=i([],r(Array(3))).map((function(e,t){var r,i=document.createElement("input");return i.type="radio",i.name=o,i.id="radio-btn-"+t,r=0==t?"open":1==t?"clamped":"emulated Bézier",i.value=r,i})),this.checkBoxForm=document.createElement("form"),this.checkBoxForm.addEventListener("change",(function(){var e=new FormData(n.checkBoxForm).get(o);e?n.bSplineDemo.curveType=e.toString():console.warn("Could not find form field curveType")})),this.radioButtons.forEach((function(e){var t=document.createElement("div"),r=document.createElement("label");r.appendChild(e);var i=document.createElement("span");i.innerText=e.value,r.appendChild(i),t.appendChild(r),n.checkBoxForm.appendChild(t)})),this.container=document.createElement("div");var s=document.createElement("span");s.innerText="curve type:",this.container.appendChild(s),this.container.appendChild(this.checkBoxForm);var a=document.getElementById(this.parentContainerId);a?(a.appendChild(this.container),this.updateVisibility(),this.updateSelectedCheckboxes()):console.warn("couldn't create table for knot vector, parent container id invalid!")}return e.prototype.update=function(e){"curveTypeChanged"==e&&this.updateSelectedCheckboxes(),this.updateVisibility()},e.prototype.updateVisibility=function(){this.bSplineDemo.valid?this.container.style.removeProperty("visibility"):this.container.style.visibility="hidden"},e.prototype.updateSelectedCheckboxes=function(){var e=this;this.radioButtons.forEach((function(t){return t.checked=t.value==e.bSplineDemo.curveType}))},e}();t.CurveTypeControls=n},9389:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.BSplineCurve=void 0;var o=r(6735),s=function(e){function t(t,r){var i=e.call(this,t,r)||this;return i.bSplineDemo=r,i.noOfEvaluationSteps=400,i.bSplineDemo.subscribe(i),i}return n(t,e),t.prototype.draw=function(){var e=this;if(this.demo.valid&&!this.bSplineDemo.shouldDrawInfluenceVisForCurrentlyActiveCtrlPt){var t=this.evaluationSteps.map((function(t){return e.bSplineDemo.getPointOnCurveWithDeBoorsAlgorithm(t)}));0===this.bSplineDemo.degree?t.slice(0,-1).forEach((function(t){return o.drawCircle(e.p5,t,e.color,1.25*e.demo.basePointDiameter)})):t.slice(0,-1).forEach((function(r,i){return o.drawLineVector(e.p5,r,t[i+1],e.color,2*e.demo.baseLineWidth)}))}},t.prototype.update=function(e){this.evaluationSteps=this.calculateEvaluationSteps()},t}(r(7342).Curve);t.BSplineCurve=s},324:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},s=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&s(t,e,r);return a(t,e),t},h=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s},l=this&&this.__spreadArray||function(e,t){for(var r=0,i=t.length,n=e.length;r<i;r++,n++)e[n]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.BSplineDemo=void 0;var c,d,p,f,g,b,m=u(r(4035)),v=r(9516),y=r(2289),C=r(3385),x=r(9389),P=r(7806),_=r(3317),D=r(801),O=function(e){function t(t,r,i,n){void 0===n&&(n=!0);var o=this;return(o=e.call(this,t,0,1,r,i)||this).minDegree=0,o._degree=2,o.scheduledKnotValueChanges=[],o._curveType="clamped",o._knotVector=o.createKnotVector(),o._basisFunctionData=[],o.updateKnotVectorAndBasisFunctions(),o.setCurve(new x.BSplineCurve(o.p5,o)),o.setCurveDrawingVisualization(new P.BSplineVisualization(o.p5,o)),o.setInfluenceVisForActiveCtrlPt(new D.VisualizerForCurrentlyActiveBSplineControlPoint(o.p5,o)),new _.DegreeControls(o.p5,o,o.controlsContainerId),o}return n(t,e),Object.defineProperty(t.prototype,"degree",{get:function(){return this._degree},enumerable:!1,configurable:!0}),t.prototype.increaseDegree=function(){this._degree++,this.notifyObservers("degreeChanged"),this.updateKnotVectorAndBasisFunctions()},t.prototype.decreaseDegree=function(){this._degree>this.minDegree&&(this._degree--,this.notifyObservers("degreeChanged"),this.updateKnotVectorAndBasisFunctions())},Object.defineProperty(t.prototype,"maxDegree",{get:function(){return this.controlPoints.length-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"degreeValid",{get:function(){return this.degree>=this.minDegree&&this.degree<=this.maxDegree},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"knotVector",{get:function(){return this._knotVector},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"knotVectorValid",{get:function(){var e=this.controlPoints.length-1+(this.degree+1);return this.knotVector.every((function(e,t,r){return!r[t+1]||e<=r[t+1]}))&&this.knotVector.length==e+1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.controlPoints.length>0&&this.degreeValid&&this.knotVectorValid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"curveInvalidMessage",{get:function(){var e=[];return this.degree>this.maxDegree&&e.push("At least "+(this.degree+1)+" control points are needed for a B-Spline of degree "+this.degree+"\n        Add "+(this.degree-this.maxDegree)+" more control point"+(this.degree-this.maxDegree==1?"":"s")+(this.degree>0?" or reduce the degree":"")),this.degree<this.minDegree&&e.push("A curve cannot have negative degree"),""+e.join("\n")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"basisFunctions",{get:function(){return this._basisFunctionData.map((function(e){return e.map((function(e){return e.basisFunction}))}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"basisFunctionsAsLaTeXString",{get:function(){return this._basisFunctionData.map((function(e){return e.map((function(e){return e.basisFunctionAsLaTeXString}))}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"basisFunctionData",{get:function(){return this._basisFunctionData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clamped",{get:function(){var e=this.degree;return this.knotVector.slice(0,e+1).every((function(e,t,r){return e===r[0]}))&&this.knotVector.slice(-e).every((function(e,t,r){return e===r[0]}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"open",{get:function(){return!this.clamped},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"curveDomain",{get:function(){return[this.firstTValueWhereCurveDefined,this.lastTValueWhereCurveDefined]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"curveDefinedAtCurrentT",{get:function(){return this.t>=this.firstTValueWhereCurveDefined&&this.t<=this.lastTValueWhereCurveDefined},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstTValueWhereCurveDefined",{get:function(){var e=this.degree;return this.knotVector[e]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstKnotIndexWhereCurveDefined",{get:function(){return this.degree},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastTValueWhereCurveDefined",{get:function(){var e=this.degree,t=this.knotVector.length-1;return this.knotVector[t-e]-Number.EPSILON},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastKnotIndexWhereCurveDefined",{get:function(){return this.firstKnotIndexWhereCurveUndefined-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstTValueWhereCurveUndefined",{get:function(){var e=this.degree,t=this.knotVector.length-1;return this.knotVector[t-e]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstKnotIndexWhereCurveUndefined",{get:function(){var e=this.degree;return this.knotVector.length-1-e},enumerable:!1,configurable:!0}),t.prototype.setKnotVectorValue=function(e,t){var r,i;if(e<0||e>=this.knotVector.length)console.warn("BSplineCurve.setKnotVectorValue(): index "+e+" is invalid!");else{var n=y.clamp(t,null!==(r=this.knotVector[e-1])&&void 0!==r?r:0,null!==(i=this.knotVector[e+1])&&void 0!==i?i:Number.MAX_VALUE);this.scheduleKnotValueChange(e,n)}},t.prototype.scheduleKnotValueChange=function(e,t){this.scheduledKnotValueChanges=this.scheduledKnotValueChanges.filter((function(t){return t.i!==e})),this.scheduledKnotValueChanges.push({i:e,newVal:t})},t.prototype.draw=function(){var t=this;if(e.prototype.draw.call(this),this.scheduledKnotValueChanges.length>0){var r=!1;this.scheduledKnotValueChanges.forEach((function(e){0==e.i&&(t._tMin=e.newVal),e.i==t.knotVector.length-1&&(t._tMax=e.newVal,r=!0),t.knotVector[e.i]=e.newVal})),this.scheduledKnotValueChanges=[],this.updateBasisFunctions(),this.notifyObservers("knotVectorChanged"),r&&this.notifyObservers("rangeOfTChanged")}},Object.defineProperty(t.prototype,"curveType",{get:function(){return this._curveType},set:function(e){this._curveType=e,this.updateDegree(),this.updateKnotVectorAndBasisFunctions(),this.notifyObservers("curveTypeChanged")},enumerable:!1,configurable:!0}),t.prototype.additionalCtrlPtAmountChangeHandling=function(){this.updateDegree(),this.updateKnotVectorAndBasisFunctions()},t.prototype.updateDegree=function(){"emulated Bézier"==this.curveType&&(this._degree=this.controlPoints.length-1,this.notifyObservers("degreeChanged"))},t.prototype.updateKnotVectorAndBasisFunctions=function(){this.updateKnotVector(),this.updateBasisFunctions(),this.scheduledKnotValueChanges=[],this.notifyObservers("knotVectorChanged")},t.prototype.updateKnotVector=function(){this._knotVector=this.createKnotVector()},t.prototype.updateBasisFunctions=function(){this._basisFunctionData=this.createBasisFunctions()},t.prototype.createKnotVector=function(){var e=this,t=this.degree+1,r=this.controlPoints.length-1;if(r<0)return[];var i=r+t;if("open"==this.curveType)return v.createArrayOfEquidistantAscendingNumbersInRange(i+1,this.tMin,this.tMax);if("clamped"==this.curveType||"emulated Bézier"==this.curveType){var n=this.degree,o=l([],h(Array(n+1).keys())),s=o.map((function(t){return e.tMin})),a=o.map((function(t){return e.tMax})),u=v.createArrayOfEquidistantAscendingNumbersInRange(i+1-2*n,this.tMin,this.tMax).slice(1,-1);return l(l(l([],h(s)),h(u)),h(a))}return v.createArrayOfEquidistantAscendingNumbersInRange(i+1,this.tMin,this.tMax)},t.prototype.createBasisFunctions=function(){var e=this.controlPoints.length-1,t=this.degree+1,r=this.degree,i=this.knotVector,n=e+t;if(e<0)return[];for(var s=[[]],a=function(e){s[0][e]={basisFunction:function(t){return i[e]<=t&&t<i[e+1]?1:0},basisFunctionAsLaTeXString:String.raw(p||(p=o(["[N_{",",0} = ",""],["\\[N_{",",0} = ",""])),e,i[e]==i[e+1]?String.raw(c||(c=o(["(0 \text{ as } [t_",", t_",") \text{ does not exist})"],["\\(0 \\text{ as } [t_",", t_",") \\text{ does not exist}\\)"])),e,e+1):String.raw(d||(d=o(["\begin{cases} 1,& \text{if} t_{","} leq x < t_{","} \\ 0,& \text{otherwise} end{cases} ]"],["\\begin{cases} 1,& \\text{if} t_{","} \\leq x < t_{","} \\\\ 0,& \\text{otherwise} \\end{cases} \\]"])),e,e+1))}},u=0;u<n;u++)a(u);for(var h=function(e){s[e]=[];for(var t=function(t){var r=i[t+e]-i[t],n=0==r,a=i[t+e+1]-i[t+1],u=0==a;s[e][t]={basisFunction:function(o){return(o-i[t])/(n?1:r)*s[e-1][t].basisFunction(o)+(i[t+e+1]-o)/(u?1:a)*s[e-1][t+1].basisFunction(o)},basisFunctionAsLaTeXString:String.raw(b||(b=o(["[N_{",",","}(t) = \frac{ t - t_{","} } { t_{","} - t_{","} } cdot N_{",", ","}(t) + \frac{ t_{","} - t } { t_{","} - t_{","} } cdot N_{",", ","}(t) \n                        ","\n                        ","]"],["\\[N_{",",","}(t) = \\frac{ t - t_{","} } { t_{","} - t_{","} } \\cdot N_{",", ","}(t) + \\frac{ t_{","} - t } { t_{","} - t_{","} } \\cdot N_{",", ","}(t) \n                        ","\n                        ","\\]"])),t,e,t,t+e,t,t,e-1,t+e+1,t+e+1,t+1,t+1,e-1,n?String.raw(f||(f=o(["t_{","} - t_{","} := 1\text{ as division by zero is not defined }"],["t_{","} - t_{","} := 1\\text{ as division by zero is not defined }"])),t+e,t):"",u?String.raw(g||(g=o(["t_{","} - t_{","} := 1\text{ as division by zero is not defined }"],["t_{","} - t_{","} := 1\\text{ as division by zero is not defined }"])),t+e+1,t+1):"")}},r=0;r<s[e-1].length-1;r++)t(r)},l=1;l<=r;l++)h(l);return s},t.prototype.getPointOnCurveByEvaluatingBasisFunctions=function(e,t){var r=this;return this.controlPoints.map((function(e){return e.position})).reduce((function(i,n,o){return m.Vector.add(i,m.Vector.mult(n,r.basisFunctions[e][o](t)))}),this.p5.createVector(0,0))},t.prototype.getPointOnCurveWithDeBoorsAlgorithm=function(e){return this.getPointOnCurveAndTemporaryCtrlPtsCreatedUsingDeBoorsAlgo(e).pt},t.prototype.getPointOnCurveAndTemporaryCtrlPtsCreatedUsingDeBoorsAlgo=function(e){var t=this,r=this.degree,i=this.controlPoints.map((function(e){return e.position}));if(e==this.tMin&&this.firstTValueWhereCurveDefined==this.tMin)return{pt:i[0],tempPtsCreatedDuringEvaluation:[[]]};if(e==this.tMax&&this.firstTValueWhereCurveUndefined==this.tMax)return{pt:i[i.length-1],tempPtsCreatedDuringEvaluation:[[]]};var n=this.knotVector.slice(0,-1).findIndex((function(r,i){return r<=e&&e<t.knotVector[i+1]}));if(-1==n)return console.warn("getPointOnCurveUsingDeBoorsAlgorithm() called with invalid value "+e),{tempPtsCreatedDuringEvaluation:[[]],pt:this.p5.createVector(0,0)};var o=this.knotVector.filter((function(t){return t==e})).length,s=r-o;if(s<0)return{tempPtsCreatedDuringEvaluation:[[]],pt:i[n]};for(var a=[i.slice(n-r,n-o+1).map((function(e){return e.copy()}))],u=0,h=1;h<=s;h++){a[h]=[];for(var l=n-r+h;l<=n-o;l++){var c=(e-this.knotVector[l])/(this.knotVector[l+r-h+1]-this.knotVector[l]);u=l-n+r,a[h][u]=m.default.Vector.add(m.default.Vector.mult(a[h-1][u-1],1-c),m.default.Vector.mult(a[h-1][u],c))}}return{pt:a[s][u],tempPtsCreatedDuringEvaluation:a}},t}(C.CurveDemo);t.BSplineDemo=O},7363:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BSplineGraphPlotter=void 0;var i=r(9516),n=r(6735),o=function(){function e(e,t){this.p5=e,this.bSplineDemo=t,this.noOfStepsXAxis=700,this.xValues=[],this.minYValue=0,this.maxYValue=1,this.bSplineDataPoints=[],this._axisRulerOffsetFromBorder=this.p5.width/15,this.rulerMarkerSize=.075*this._axisRulerOffsetFromBorder,this._distMinToMaxXAxis=this.p5.width-1.5*this._axisRulerOffsetFromBorder,this._distMinToMaxYAxis=this.p5.height-1.5*this._axisRulerOffsetFromBorder,this.axisRulerAndLabelColor=e.color(30),this.curveDomainBorderColor=e.color(120),this.computeCurves(),t.subscribe(this)}return Object.defineProperty(e.prototype,"distMinToMaxXAxis",{get:function(){return this._distMinToMaxXAxis},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"distMinToMaxYAxis",{get:function(){return this._distMinToMaxYAxis},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yAxisLabel",{get:function(){return"N_{i,"+this.bSplineDemo.degree+"}"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"axisRulerOffsetFromBorder",{get:function(){return this._axisRulerOffsetFromBorder},enumerable:!1,configurable:!0}),e.prototype.canvasResized=function(){this._axisRulerOffsetFromBorder=this.p5.width/15,this.rulerMarkerSize=.075*this._axisRulerOffsetFromBorder,this._distMinToMaxXAxis=this.p5.width-1.5*this._axisRulerOffsetFromBorder,this._distMinToMaxYAxis=this.p5.height-1.5*this._axisRulerOffsetFromBorder,this.redraw()},e.prototype.update=function(e){"controlPointsChanged"!==e&&"knotVectorChanged"!==e&&"rangeOfTChanged"!==e||(this.computeCurves(),this.redraw())},e.prototype.redraw=function(){this.p5.redraw()},e.prototype.computeCurves=function(){var e=this,t=this.bSplineDemo.controlPoints;if(t.length<1)return this.xValues=[],void(this.bSplineDataPoints=[]);var r=this.bSplineDemo.basisFunctions,n=this.bSplineDemo.degree;this.xValues=i.createArrayOfEquidistantAscendingNumbersInRange(this.noOfStepsXAxis,this.bSplineDemo.tMin,this.bSplineDemo.tMax),this.bSplineDataPoints=t.map((function(t,i){return{yValues:e.xValues.map((function(e){return r[n][i](e)})),controlPoint:t}}))},e.prototype.draw=function(){this.bSplineDemo.valid?(this.drawCurves(),this.drawAxisRulersAndLabels(),this.drawBordersOfCurveDomain()):this.renderInfoText()},e.prototype.drawCurves=function(){var e=this;this.bSplineDataPoints.forEach((function(t){var r=t.controlPoint.color,i=t.controlPoint.hovering||t.controlPoint.dragging?4:1.5;t.yValues.forEach((function(t,o,s){if(o!==s.length-1){var a=e.xValues[o]/(e.bSplineDemo.tMax-e.bSplineDemo.tMin),u=s[o+1],h=e.xValues[o+1]/(e.bSplineDemo.tMax-e.bSplineDemo.tMin),l=a*e._distMinToMaxXAxis+e._axisRulerOffsetFromBorder,c=e.p5.height-e._axisRulerOffsetFromBorder-t*e._distMinToMaxYAxis,d=h*e._distMinToMaxXAxis+e._axisRulerOffsetFromBorder,p=e.p5.height-e._axisRulerOffsetFromBorder-u*e._distMinToMaxYAxis;n.drawLineXYCoords(e.p5,l,c,d,p,r,i)}}))}))},e.prototype.drawAxisRulersAndLabels=function(){n.drawLineXYCoords(this.p5,this._axisRulerOffsetFromBorder,this.p5.height-this._axisRulerOffsetFromBorder,this.p5.width,this.p5.height-this._axisRulerOffsetFromBorder,this.axisRulerAndLabelColor,1),n.drawLineXYCoords(this.p5,this._axisRulerOffsetFromBorder,this.p5.height-this._axisRulerOffsetFromBorder,this._axisRulerOffsetFromBorder,0,this.axisRulerAndLabelColor,1),this.drawRulerMarkersAndLabelsXAxis(),this.drawRulerMarkersAndLabelsYAxis()},e.prototype.drawRulerMarkersAndLabelsXAxis=function(){for(var e=this,t=this.bSplineDemo.knotVector,r=t.map((function(t){return t/(e.bSplineDemo.tMax-e.bSplineDemo.tMin)*e._distMinToMaxXAxis})),i=0;i<r.length;i++)n.drawLineXYCoords(this.p5,this._axisRulerOffsetFromBorder+r[i],this.p5.height-this._axisRulerOffsetFromBorder,this._axisRulerOffsetFromBorder+r[i],this.p5.height-this._axisRulerOffsetFromBorder+this.rulerMarkerSize,this.axisRulerAndLabelColor,1),void 0!==r[i-1]&&r[i-1]==r[i]||(this.p5.push(),this.p5.textAlign(this.p5.CENTER),n.renderTextWithSubscript(this.p5,"t_{"+i+"}",this._axisRulerOffsetFromBorder+r[i],this.p5.height-this._axisRulerOffsetFromBorder/3),this.p5.text(+t[i].toFixed(2),this._axisRulerOffsetFromBorder+r[i],this.p5.height-this._axisRulerOffsetFromBorder/1.5),this.p5.pop())},e.prototype.drawRulerMarkersAndLabelsYAxis=function(){for(var e=this._distMinToMaxYAxis/10,t=1;t<=10;t++)n.drawLineXYCoords(this.p5,this._axisRulerOffsetFromBorder-(5===t||10===t?2*this.rulerMarkerSize:this.rulerMarkerSize),this.p5.height-this._axisRulerOffsetFromBorder-t*e,this._axisRulerOffsetFromBorder,this.p5.height-this._axisRulerOffsetFromBorder-t*e,this.axisRulerAndLabelColor,1);this.p5.push(),this.p5.textAlign(this.p5.CENTER),this.p5.text(+(.5*(this.maxYValue-this.minYValue)).toFixed(2),this._axisRulerOffsetFromBorder/2,this.p5.height-this._axisRulerOffsetFromBorder-5*e),this.p5.text(+this.maxYValue.toFixed(2),this._axisRulerOffsetFromBorder/2,this.p5.height-this._axisRulerOffsetFromBorder-10*e),this.p5.textAlign(this.p5.LEFT,this.p5.CENTER),n.renderTextWithSubscript(this.p5,this.yAxisLabel,this._axisRulerOffsetFromBorder/10,1.5*this._axisRulerOffsetFromBorder+this._distMinToMaxYAxis/2),this.p5.pop()},e.prototype.drawBordersOfCurveDomain=function(){n.drawLineXYCoords(this.p5,this.axisRulerOffsetFromBorder+this.bSplineDemo.firstTValueWhereCurveDefined*this.distMinToMaxXAxis,this.p5.height-this._axisRulerOffsetFromBorder,this.axisRulerOffsetFromBorder+this.bSplineDemo.firstTValueWhereCurveDefined*this.distMinToMaxXAxis,this.p5.height-this._distMinToMaxYAxis-this.axisRulerOffsetFromBorder,this.curveDomainBorderColor,1),n.drawLineXYCoords(this.p5,this.axisRulerOffsetFromBorder+this.bSplineDemo.lastTValueWhereCurveDefined*this.distMinToMaxXAxis,this.p5.height-this._axisRulerOffsetFromBorder,this.axisRulerOffsetFromBorder+this.bSplineDemo.lastTValueWhereCurveDefined*this.distMinToMaxXAxis,this.p5.height-this._distMinToMaxYAxis-this.axisRulerOffsetFromBorder,this.curveDomainBorderColor,1)},e.prototype.renderInfoText=function(){this.p5.push(),this.p5.textAlign(this.p5.CENTER),this.p5.text("Add more control points to the canvas on the left!\nThe B-spline basis functions will then show up here.",this.p5.width/2,this.p5.height/2),this.p5.pop()},e}();t.BSplineGraphPlotter=o},244:function(e,t,r){"use strict";var i=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.KnotVectorControls=void 0;var n,o=r(2289),s=function(){function e(e,t,r){void 0===r&&(r=!0),this.bSplineDemo=e,this.parentContainerId=t,this.knotInputElements=[],e.subscribe(this),this.tableContainer=document.createElement("div"),this.tableContainer.id="knot-table-container",this.controlsContainer=document.createElement("div"),this.controlsContainer.id="knot-controls-container";var i=document.getElementById(this.parentContainerId);if(i){if(r){var n=document.createElement("div");n.innerText="knot vector:",n.id="knot-controls-label",this.controlsContainer.appendChild(n)}this.controlsContainer.appendChild(this.tableContainer),i.appendChild(this.controlsContainer),this.updateKnotVectorDisplay()}else console.warn("couldn't create table for knot vector, parent container id invalid!")}return e.prototype.update=function(e){"knotVectorChanged"==e&&this.updateKnotVectorDisplay()},e.prototype.updateKnotVectorDisplay=function(){var e=this;if(this.bSplineDemo.valid){this.controlsContainer.style.removeProperty("visibility");var t=document.createElement("tr"),r=[];this.knotInputElements=this.bSplineDemo.knotVector.map((function(s,a,u){var h=document.createElement("input");h.type="number",h.setAttribute("step","any");var l=document.createElement("th");l.innerText=String.raw(n||(n=i(["(t_{","}",")"],["\\(t_{","}","\\)"])),a,void 0!==u[a+1]&&u[a+1]==s?" = t_{"+(a+1)+"}":""),t.appendChild(l);var c="knot-"+a;return l.id=c,r.push("#"+c),h.value=(+s.toFixed(2)).toString(),h.addEventListener("focus",(function(){return h.value=u[a].toString()})),h.addEventListener("blur",(function(){return function(){var t,r,i=null!==(t=u[a-1])&&void 0!==t?t:0,n=null!==(r=u[a+1])&&void 0!==r?r:Number.MAX_VALUE,s=o.clamp(+h.value,i,n),l=e.bSplineDemo.knotVector.slice();if(l[a]=s,function(e){for(var t=e[0],r=1,i=1,n=1;n<e.length;n++)e[n]!==t?(t=e[n],r=1):++r>i&&(i=r);return i>e.length/2}(l))return alert("It is not allowed for more than half of the knot vector to contain the same number!"),void(h.value=e.bSplineDemo.knotVector[a].toString());e.bSplineDemo.scheduleKnotValueChange(a,s),h.value=s.toString()}()})),h.addEventListener("keydown",(function(e){"Enter"==e.key&&h.blur()})),h})),this.knotInputElements.forEach((function(e,t){}));var s=document.createElement("tr");this.knotInputElements.forEach((function(e){var t=document.createElement("td");t.appendChild(e),s.appendChild(t)})),this.tableContainer.innerHTML="";var a=document.createElement("table");a.appendChild(t),a.appendChild(s),a.id="knot-table",this.tableContainer.appendChild(a),MathJax.typeset(r)}else this.controlsContainer.style.visibility="hidden"},e}();t.KnotVectorControls=s},5143:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LineAtTPlotter=void 0;var n=r(6735),o=i(r(6399)),s=function(){function e(e,t,r){this.p5=e,this.bSplineDemo=t,this.graphPlotter=r,this.lineThroughTColor=this.p5.color(o.default.errorColor)}return e.prototype.draw=function(){this.bSplineDemo.showCurveDrawingVisualization&&this.bSplineDemo.valid&&this.drawLineAtT()},e.prototype.drawLineAtT=function(){if(!(this.bSplineDemo.controlPoints.length<=0)){var e=this.bSplineDemo.t,t=this.graphPlotter.axisRulerOffsetFromBorder+e/(this.bSplineDemo.tMax-this.bSplineDemo.tMin)*this.graphPlotter.distMinToMaxXAxis;n.drawLineXYCoords(this.p5,t,0,t,this.p5.height,this.lineThroughTColor,2)}},e}();t.LineAtTPlotter=s},5725:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InfluenceVisualizerForActiveControlPoint=void 0;var r=function(){function e(e){this.demo=e}return e.prototype.draw=function(){this.demo.shouldDrawInfluenceVisForCurrentlyActiveCtrlPt&&this.drawInfluenceOfCurrentlyActiveCtrlPt()},e}();t.InfluenceVisualizerForActiveControlPoint=r},5931:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ControlPointInfluenceBarVisualization=void 0;var i=r(7449),n=r(6735),o=function(){function e(e,t,r){void 0===r&&(r=!0),this.p5=e,this.demo=t,this.visible=r,this.barHeight=60,this.barWidth=30,this.borderThickness=5,this.ctrlPtInfluenceDataPoints=[],this.influenceBars=[],this.barBorderColor=e.color(120)}return e.prototype.update=function(e){"controlPointsChanged"!=e&&"degreeChanged"!=e&&"knotVectorChanged"!=e&&"rangeOfTChanged"!=e||this.updateInfluenceDataAndBars()},e.prototype.updateInfluenceDataAndBars=function(){var e=this;this.ctrlPtInfluenceDataPoints=this.getCurrentControlPointInfluenceDataPoints();var t=this.influenceBars.map((function(e){return{ctrlPt:e.assignedControlPoint,offsetX:e.offsetFromCtrlPtPosX,offsetY:e.offsetFromCtrlPtPosY}}));this.influenceBars=this.ctrlPtInfluenceDataPoints.map((function(r){var i=t.find((function(e){return e.ctrlPt===r.controlPoint}));return i?new s(e.p5,r,{offsetFromCtrlPtPosX:i.offsetX,offsetFromCtrlPtPosY:i.offsetY}):new s(e.p5,r)}))},e.prototype.draw=function(){this.demo.valid&&this.visible&&(this.influenceBars.forEach((function(e){return e.draw()})),this.influenceBars.length>1&&this.drawSummaryBar())},e.prototype.drawSummaryBar=function(){var e=this;this.p5.push(),this.p5.noStroke(),this.p5.rectMode(this.p5.CORNER);var t=this.p5.width-this.barWidth-2*this.borderThickness,r=this.p5.height-this.barHeight-2*this.borderThickness;this.p5.fill(this.barBorderColor),this.p5.rect(t,r,this.barWidth+this.borderThickness,this.barHeight+this.borderThickness);var i=0;this.ctrlPtInfluenceDataPoints.forEach((function(n){var o=n.currentCtrlPtInfluence()*(e.barHeight-e.borderThickness);e.p5.fill(n.controlPoint.color),e.p5.rect(t+e.borderThickness,r+e.barHeight-o-i,e.barWidth-e.borderThickness,o),i+=o})),this.p5.pop()},Object.defineProperty(e.prototype,"hovering",{get:function(){return this.influenceBars.some((function(e){return e.hovering}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dragging",{get:function(){return this.influenceBars.some((function(e){return e.dragging}))},enumerable:!1,configurable:!0}),e.prototype.handleTouchStarted=function(){for(var e=this.influenceBars.slice(),t=0;t<e.length;t++){var r=e[t];if(r.handleTouchStarted(),r.dragging)break}},e.prototype.handleTouchReleased=function(){this.influenceBars.forEach((function(e){return e.handleTouchReleased()}))},e.prototype.handleMousePressed=function(){for(var e=this.influenceBars.slice(),t=0;t<e.length;t++){var r=e[t];if(r.handleMousePressed(),r.dragging)break}},e.prototype.handleMouseReleased=function(){this.influenceBars.forEach((function(e){return e.handleMouseReleased()}))},e}();t.ControlPointInfluenceBarVisualization=o;var s=function(){function e(e,t,r){this.p5=e,this.data=t,this.borderColor=this.p5.color(120),this.height=60,this.width=30,this.borderThickness=5,this._dragging=!1,this.dragPtOffsetX=0,this.dragPtOffsetY=0,this._offsetFromCtrlPtPosX=1.25*-this.width,this._offsetFromCtrlPtPosY=this.width/2,this.fillBackgroundColor=e.color(i.lightenDarkenP5Color(this.p5,this.borderColor,20)),r&&(r.offsetFromCtrlPtPosX&&(this._offsetFromCtrlPtPosX=r.offsetFromCtrlPtPosX),r.offsetFromCtrlPtPosY&&(this._offsetFromCtrlPtPosY=r.offsetFromCtrlPtPosY),r.borderColor&&(this.borderColor=r.borderColor),r.borderThickness&&(this.borderThickness=r.borderThickness),r.height&&(this.height=r.height),r.width&&(this.width=r.width))}return Object.defineProperty(e.prototype,"offsetFromCtrlPtPosX",{get:function(){return this._offsetFromCtrlPtPosX},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetFromCtrlPtPosY",{get:function(){return this._offsetFromCtrlPtPosY},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"assignedControlPoint",{get:function(){return this.data.controlPoint},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.data.controlPoint.x+this._offsetFromCtrlPtPosX},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.data.controlPoint.y+this._offsetFromCtrlPtPosY},enumerable:!1,configurable:!0}),e.prototype.draw=function(){this.dragging&&(this.updatePos(),n.drawLineXYCoords(this.p5,this.x,this.y,this.data.controlPoint.x,this.data.controlPoint.y,this.data.controlPoint.color,1));var e=this.data.controlPoint,t=this.data.currentCtrlPtInfluence(),r=this.height-this.borderThickness,i=t*r;this.p5.push(),this.p5.noStroke(),this.p5.rectMode(this.p5.CENTER),this.p5.fill(this.borderColor),this.p5.rect(this.x,this.y,this.width,this.height),this.p5.fill(this.fillBackgroundColor),this.p5.rect(this.x,this.y+(this.height-r)/2-this.borderThickness/2,this.width-this.borderThickness,r),this.p5.fill(e.color),0==i?(this.p5.textAlign(this.p5.CENTER,this.p5.CENTER),this.p5.text("no influence",this.x,this.y+this.height/2+2*this.borderThickness)):this.p5.rect(this.x,this.y+(this.height-i)/2-this.borderThickness/2,this.width-this.borderThickness,i),this.p5.pop()},Object.defineProperty(e.prototype,"hovering",{get:function(){return this.dragging||this.checkPtInsideRect(this.p5.mouseX,this.p5.mouseY)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dragging",{get:function(){return this._dragging},enumerable:!1,configurable:!0}),e.prototype.updatePos=function(){var e=this,t=this.data.controlPoint;if(this.touchPointID){var r=this.p5.touches.find((function(t){return t.id===e.touchPointID}));r?(this._offsetFromCtrlPtPosX=r.x-this.dragPtOffsetX-t.x,this._offsetFromCtrlPtPosY=r.y-this.dragPtOffsetY-t.y):console.warn("touchPoint with ID "+this.touchPointID+" not found!")}else this._offsetFromCtrlPtPosX=this.p5.mouseX-this.dragPtOffsetX-t.x,this._offsetFromCtrlPtPosY=this.p5.mouseY-this.dragPtOffsetY-t.y},e.prototype.handleTouchStarted=function(){var e=this,t=this.p5.touches;if(0!==t.length){var r=t.find((function(t){return e.checkPtInsideRect(t.x,t.y)}));r&&(this.dragPtOffsetX=r.x-this.x,this.dragPtOffsetY=r.y-this.y,this._dragging=!0)}else console.warn("touches was unexpectedly empty")},e.prototype.handleTouchReleased=function(){this._dragging=!1},e.prototype.handleMousePressed=function(){var e=this.p5.mouseX,t=this.p5.mouseY;this.checkPtInsideRect(e,t)&&(this.dragPtOffsetX=e-this.x,this.dragPtOffsetY=t-this.y,this._dragging=!0)},e.prototype.handleMouseReleased=function(){this._dragging=!1},e.prototype.checkPtInsideRect=function(e,t){var r=this.x-this.width/2,i=this.x+this.width/2,n=this.y-this.height/2,o=this.y+this.height/2;return e>=r&&e<=i&&t>=n&&t<=o},e}()}}]);