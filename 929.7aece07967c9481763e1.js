(self.webpackChunkbachelor_thesis_code=self.webpackChunkbachelor_thesis_code||[]).push([[929],{929:function(t,o,e){"use strict";var i=this&&this.__read||function(t,o){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var i,n,r=e.call(t),s=[];try{for(;(void 0===o||o-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){n={error:t}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(n)throw n.error}}return s},n=this&&this.__spreadArray||function(t,o){for(var e=0,i=o.length,n=t.length;e<i;e++,n++)t[n]=o[e];return t},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0}),o.BezierDemo=void 0;var s=r(e(35)),a=e(451),l=e(479),h=r(e(399)),c=function(){function t(t,o,e){this.p5=t,this._controlPoints=[],this._showPointLabels=!1,this._showPointPositions=!1,this._positionDisplayMode="absolute",this._t=0,this.observers=[],this._basePointDiameter=.015*t.width,this._baseLineWidth=.0025*t.width,this.controlPointColors=this.initControlPointColors(),this.showPointLabels=!1,this.showPointPositions=!1,this.positionDisplayMode="relative to canvas",this.bezierCurve=new u(t,this),this.deCasteljauVis=new p(t,this),this.controlsForT=new d(t,this,o,e)}return Object.defineProperty(t.prototype,"basePointDiameter",{get:function(){return this._basePointDiameter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseLineWidth",{get:function(){return this._baseLineWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controlPoints",{get:function(){return this._controlPoints},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showPointLabels",{get:function(){return this._showPointLabels},set:function(t){this._showPointLabels=t,this._controlPoints.forEach((function(o){return o.showLabel=t}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showPointPositions",{get:function(){return this._showPointPositions},set:function(t){this._showPointPositions=t,this._controlPoints.forEach((function(o){return o.showPosition=t}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"positionDisplayMode",{get:function(){return this._positionDisplayMode},set:function(t){this._positionDisplayMode=t,this._controlPoints.forEach((function(o){return o.positionDisplayMode=t}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"t",{get:function(){return this._t},set:function(t){this._t=t,this._t>1&&(this._t=0),this.t<0&&(this._t=1),this.controlsForT.updateSlider()},enumerable:!1,configurable:!0}),t.prototype.initControlPointColors=function(){return[this.p5.color(h.default.primaryColor),this.p5.color(l.lightenDarkenColor(h.default.successColor,15)),this.p5.color("#6727e2"),this.p5.color("#ff6600"),this.p5.color("#c85d84"),this.p5.color("#11e8db"),this.p5.color("#62421c"),this.p5.color("#4e7165"),this.p5.color("#1c087b")].map((function(t){return{color:t,taken:!1}}))},t.prototype.handleMousePressed=function(){if(0===this.controlPoints.length){var t=this.createCtrlPtAtPos(this.p5.mouseX,this.p5.mouseY);return this.addCtrlPtAtIndex(t,0),void t.handleMousePressed()}for(var o=this.controlPoints.slice(),e=0;e<o.length;e++){var i=o[e];if(i.handleMousePressed(),i.dragging)break}},t.prototype.getColorForCtrlPtAtIndex=function(t){var o,e=this.controlPointColors.findIndex((function(t){return!t.taken})),i=-1!==e,n=null===(o=this.controlPoints[t+1])||void 0===o?void 0:o.color;if(!i||n&&this.controlPointColors.map((function(t){return t.color})).includes(n)){var r=this.p5.color(l.randomColorHexString()),s=null,a=null;for(t>0&&(s=this.controlPoints[t-1].color),t<this.controlPoints.length-1&&(a=this.controlPoints[t+1].color);s&&l.colorsTooSimilar(r,s)||a&&l.colorsTooSimilar(r,a)||l.luminanceFromP5Color(r)>180;)s&&console.log("color of previous control point: "+s.toString()),a&&console.log("color of next control point: "+a.toString()),console.log("current control point's color "+r.toString()+" with luminance "+l.luminanceFromP5Color(r)+" was too bright or too similar, finding better fit..."),r=this.p5.color(l.randomColorHexString()),console.log("new color: "+r.toString()+" (luminance: "+l.luminanceFromP5Color(r)+")");return r}var h=this.controlPointColors[e];return h.taken=!0,h.color},t.prototype.handleMouseReleased=function(){this.controlPoints.forEach((function(t){return t.handleMouseReleased()}))},t.prototype.handleTouchStarted=function(){if(0!==this.controlPoints.length)for(var t=this.controlPoints.slice(),o=0;o<t.length;o++){var e=t[o];if(e.handleTouchStarted(),e.dragging)break}else{var i=this.p5.touches;if(0===i.length)console.warn("touches was unexpectedly empty");else{var n=this.createCtrlPtAtPos(i[0].x,i[0].y);this.addCtrlPtAtIndex(n,0),n.handleTouchStarted()}}},t.prototype.handleTouchReleased=function(){this.controlPoints.forEach((function(t){return t.handleTouchReleased()}))},Object.defineProperty(t.prototype,"hovering",{get:function(){return this.controlPoints.some((function(t){return t.hovering}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dragging",{get:function(){return this.controlPoints.some((function(t){return t.dragging}))},enumerable:!1,configurable:!0}),t.prototype.draw=function(){this.controlPoints.length>0?(this.controlsForT.updateT(),this.controlPoints.length>1&&this.bezierCurve.draw(),this.controlPoints.length>1&&this.deCasteljauVis.draw(),this.drawControlPoints()):(this.p5.push(),this.p5.textAlign(this.p5.CENTER),this.p5.text("Click or touch anywhere on the canvas to add a point",this.p5.width/2,this.p5.height/2),this.p5.pop())},t.prototype.drawControlPoints=function(){this.controlPoints.forEach((function(t){return t.draw()}))},t.prototype.addElementAfter=function(t){var o=this.controlPoints.findIndex((function(o){return o===t}));if(-1!==o){var e=this.p5.touches,i=e.length>0,n=i?e[0].x:this.p5.mouseX,r=i?e[0].y:this.p5.mouseY,s=this.createCtrlPtAtPos(n,r);this.addCtrlPtAtIndex(s,o+1),i?s.handleTouchStarted():s.handleMousePressed()}else console.warn("could not find provided element in control vertices of bezier, cancelling adding...")},t.prototype.createCtrlPtAtPos=function(t,o){var e=new a.DragVertex(this.p5,this.p5.createVector(t,o));return e.baseRadius=this.basePointDiameter/2,e.stroke=!1,e.editable=!0,e.showLabel=this._showPointLabels,e.showPosition=this._showPointPositions,e.positionDisplayMode=this._positionDisplayMode,e.assignTo(this),e},t.prototype.addCtrlPtAtIndex=function(t,o){this._controlPoints.splice(o,0,t),t.color=this.getColorForCtrlPtAtIndex(o),t.activeColor=t.color,this.handleCurveDegreeChange()},t.prototype.remove=function(t){this._controlPoints=this._controlPoints.filter((function(o){return o!==t}));var o=this.controlPointColors.findIndex((function(o){return o.color===t.color}));-1!==o&&(this.controlPointColors[o].taken=!1),this.handleCurveDegreeChange()},t.prototype.handleCurveDegreeChange=function(){var t=this.controlPoints.length;this._controlPoints.forEach((function(t,o){return t.label="P_{"+o+"}"})),this.deCasteljauVis.onlyDrawPointOnBezier=t<3,this.controlsForT.visible=t>1,this.notifyObservers("controlPointsChanged")},t.prototype.subscribe=function(t){this.observers.push(t)},t.prototype.unsubscribe=function(t){this.observers=this.observers.filter((function(o){return o!==t}))},t.prototype.notifyObservers=function(t){this.observers.forEach((function(o){return o.update(t)}))},t}();o.BezierDemo=c;var u=function(){function t(t,o){var e=this;this.p5=t,this.demo=o,this.evaluationSteps=100,this.zeroToOne=n([],i(Array(this.evaluationSteps+1).keys())).map((function(t){return t/e.evaluationSteps})),this.color=t.color(30)}return t.prototype.draw=function(){var t=this;if(0!==this.demo.controlPoints.length&&1!==this.demo.controlPoints.length){var o=this.zeroToOne.map((function(o){return t.findPointOnCurveWithDeCasteljau(t.demo.controlPoints.map((function(t){return t.position})),o)}));o.forEach((function(e,i){i!==o.length-1&&l.drawLineVector(t.p5,e,o[i+1],t.color,2*t.demo.baseLineWidth)}))}},t.prototype.findPointOnCurveWithDeCasteljau=function(t,o){if(1===t.length)return t[0];var e=t.slice(0,-1).map((function(e,i){return s.default.Vector.lerp(e,t[i+1],o)}));return this.findPointOnCurveWithDeCasteljau(e,o)},t}(),p=function(){function t(t,o){this.p5=t,this.bezierCurve=o,this.onlyDrawPointOnBezier=!1,this.color=t.color("#E1B000"),this.colorOfPointOnBezier=t.color(h.default.errorColor)}return t.prototype.draw=function(){this.recursiveDraw(this.bezierCurve.controlPoints.map((function(t){return t.position})))},t.prototype.recursiveDraw=function(t){var o=this;if(!(t.length<=1)){var e=t.slice(0,-1).map((function(e,i){return s.default.Vector.lerp(e,t[i+1],o.bezierCurve.t)}));e.forEach((function(i,n){o.onlyDrawPointOnBezier||l.drawLineVector(o.p5,t[n],t[n+1],o.color,o.bezierCurve.baseLineWidth),1===e.length?o.drawPointOnBezierCurve(e[0]):l.drawCircle(o.p5,i,o.color,o.bezierCurve.basePointDiameter)})),this.recursiveDraw(e)}},t.prototype.drawPointOnBezierCurve=function(t){var o=t.x,e=t.y;l.drawCircle(this.p5,t,this.colorOfPointOnBezier,1.5*this.bezierCurve.basePointDiameter);var i=this.bezierCurve.showPointLabels,n=this.bezierCurve.showPointPositions,r=this.bezierCurve.positionDisplayMode;if(i||n){var s=(i?"C(t) ":"")+(n?"absolute"===r?"("+o+", "+e+")":"("+(o/this.p5.width).toFixed(2)+", "+(e/this.p5.height).toFixed(2)+")":""),a=o+10,h=e-10;this.p5.push(),this.p5.text(s,a,h),this.p5.pop()}},t}(),d=function(){function t(o,e,i,n){var r=this;this.demo=e,this.baseAnimationSpeedPerFrame=.005,this.currAnimationSpeedMultiplierIndex=t.animationSpeedMultipliers.findIndex((function(t){return 1===t})),this._animationRunning=!1,this.controlsContainer=o.createDiv(),i&&this.controlsContainer.parent(i),this.controlsContainer.class("flex-row center-cross-axis disable-dbl-tap-zoom prevent-text-select"),this.sliderLabel=o.createSpan("t: "+this.demo.t.toFixed(2)),this.sliderLabel.parent(this.controlsContainer),this.slider=o.createSlider(0,1,0,.00125),this.slider.parent(this.controlsContainer),this.slider.style("flex-grow","2"),this.slider.mousePressed((function(){return r.animationRunning=!1})),this.slowerButton=o.createButton('<span class="material-icons">fast_rewind</span>'),this.slowerButton.parent(this.controlsContainer),this.slowerButton.mouseClicked((function(){return r.rewindClicked()})),this.playPauseButton=o.createButton('<span class="material-icons">play_arrow</span>'),this.playPauseButton.parent(this.controlsContainer),this.playPauseButton.mouseClicked((function(){return r.animationRunning=!r.animationRunning})),this.visible=!1,this.fasterButton=o.createButton('<span class="material-icons">fast_forward</span>'),this.fasterButton.parent(this.controlsContainer),this.fasterButton.mouseClicked((function(){return r.fastForwardClicked()})),n&&(this.baseAnimationSpeedPerFrame*=n)}return Object.defineProperty(t.prototype,"visible",{set:function(t){this.controlsContainer.style("visibility",t?"visible":"hidden")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"animationRunning",{get:function(){return this._animationRunning},set:function(t){this._animationRunning=t,this._animationRunning?this.playPauseButton.html('<span class="material-icons">pause</span>'):this.playPauseButton.html('<span class="material-icons">play_arrow</span>')},enumerable:!1,configurable:!0}),t.prototype.updateT=function(){this.animationRunning?this.demo.t+=this.baseAnimationSpeedPerFrame*t.animationSpeedMultipliers[this.currAnimationSpeedMultiplierIndex]:this.demo.t=+this.slider.value()},t.prototype.updateSlider=function(){this.sliderLabel.html("t: "+this.demo.t.toFixed(2)),this.slider.value(this.demo.t)},t.prototype.fastForwardClicked=function(){this.animationRunning=!0,this.currAnimationSpeedMultiplierIndex<t.animationSpeedMultipliers.length-1&&this.currAnimationSpeedMultiplierIndex++},t.prototype.rewindClicked=function(){this.animationRunning=!0,this.currAnimationSpeedMultiplierIndex>0&&this.currAnimationSpeedMultiplierIndex--},t.animationSpeedMultipliers=[-4,-2,-1.5,-1,-.5,-.25,-.125,.125,.25,.5,1,1.5,2,4],t}()}}]);