(self.webpackChunkbachelor_thesis_code=self.webpackChunkbachelor_thesis_code||[]).push([[929],{929:function(e,t,r){"use strict";var i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s},n=this&&this.__spreadArray||function(e,t){for(var r=0,i=t.length,n=e.length;r<i;r++,n++)e[n]=t[r];return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BezierDemo=void 0;var s=o(r(35)),a=r(451),l=r(479),c=o(r(399)),h=function(){function e(e,t,r){this.p5=e,this._controlVertices=[],this._showPointLabels=!1,this._t=0,this.observers=[],this._basePointDiameter=.015*e.width,this._baseLineWidth=.0025*e.width,this.bezierCurve=new u(e,this),this.deCasteljauVis=new p(e,this),this.controlsForT=new d(e,this,t,r)}return Object.defineProperty(e.prototype,"basePointDiameter",{get:function(){return this._basePointDiameter},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseLineWidth",{get:function(){return this._baseLineWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"controlVertices",{get:function(){return this._controlVertices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showPointLabels",{get:function(){return this._showPointLabels},set:function(e){this._showPointLabels=e,this._controlVertices.forEach((function(t){return t.showLabel=e}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"t",{get:function(){return this._t},set:function(e){this._t=e,this._t>1&&(this._t=0),this.t<0&&(this._t=1),this.controlsForT.updateSlider()},enumerable:!1,configurable:!0}),e.prototype.handleMousePressed=function(){if(0===this.controlVertices.length){var e=this.createVertexAtPos(this.p5.mouseX,this.p5.mouseY);return this.addVertexAtIndex(e,0),void e.handleMousePressed()}for(var t=this.controlVertices.slice(),r=0;r<t.length;r++){var i=t[r];if(i.handleMousePressed(),i.dragging)break}},e.prototype.getColorForVertexAtIndex=function(e){var t=this.p5.color(l.randomColorHexString());switch(e){case 0:t=this.p5.color(c.default.primaryColor);break;case 1:t=this.p5.color(l.lightenDarkenColor(c.default.successColor,15));break;case 2:t=this.p5.color("#6727e2");break;case 3:t=this.p5.color("#c85d84");break;case 4:t=this.p5.color("#62421c");break;case 5:t=this.p5.color("#4e7165");break;case 6:t=this.p5.color("#ff6600");break;case 7:t=this.p5.color("#83b9df");break;case 8:t=this.p5.color("#11e8db");break;default:t=this.p5.color(l.randomColorHexString())}var r=null,i=null;for(e>0&&(r=this.controlVertices[e-1].color),e<this.controlVertices.length-1&&(i=this.controlVertices[e+1].color);r&&l.colorsTooSimilar(t,r)||i&&l.colorsTooSimilar(t,i)||l.luminanceFromP5Color(t)>180;)t=this.p5.color(l.randomColorHexString());return console.log(l.luminanceFromP5Color(t)),t},e.prototype.handleMouseReleased=function(){this.controlVertices.forEach((function(e){return e.handleMouseReleased()}))},e.prototype.handleTouchStarted=function(){if(0!==this.controlVertices.length)for(var e=this.controlVertices.slice(),t=0;t<e.length;t++){var r=e[t];if(r.handleTouchStarted(),r.dragging)break}else{var i=this.p5.touches;if(0===i.length)console.warn("touches was unexpectedly empty");else{var n=this.createVertexAtPos(i[0].x,i[0].y);this.addVertexAtIndex(n,0),n.handleTouchStarted()}}},e.prototype.handleTouchReleased=function(){this.controlVertices.forEach((function(e){return e.handleTouchReleased()}))},Object.defineProperty(e.prototype,"hovering",{get:function(){return this.controlVertices.some((function(e){return e.hovering}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dragging",{get:function(){return this.controlVertices.some((function(e){return e.dragging}))},enumerable:!1,configurable:!0}),e.prototype.draw=function(){this.controlVertices.length>0?(this.controlsForT.updateT(),this.controlVertices.length>1&&this.bezierCurve.draw(),this.controlVertices.length>1&&this.deCasteljauVis.draw(),this.drawControlVertices()):(this.p5.push(),this.p5.textAlign(this.p5.CENTER),this.p5.text("Click or touch anywhere on the canvas to add a point",this.p5.width/2,this.p5.height/2),this.p5.pop())},e.prototype.drawControlVertices=function(){this.controlVertices.forEach((function(e){return e.draw()}))},e.prototype.addElementAfter=function(e){var t=this.controlVertices.findIndex((function(t){return t===e}));if(-1!==t){var r=this.p5.touches,i=r.length>0,n=i?r[0].x:this.p5.mouseX,o=i?r[0].y:this.p5.mouseY,s=this.createVertexAtPos(n,o);this.addVertexAtIndex(s,t+1),i?s.handleTouchStarted():s.handleMousePressed(),this.handleCurveDegreeChange()}else console.warn("could not find provided element in control vertices of bezier, cancelling adding...")},e.prototype.createVertexAtPos=function(e,t){var r=new a.DragVertex(this.p5,this.p5.createVector(e,t));return r.baseRadius=this.basePointDiameter/2,r.stroke=!1,r.showLabel=this._showPointLabels,r.editable=!0,r.assignTo(this),r},e.prototype.addVertexAtIndex=function(e,t){this._controlVertices.splice(t,0,e),e.color=this.getColorForVertexAtIndex(t),e.activeColor=e.color,this.handleCurveDegreeChange()},e.prototype.remove=function(e){this._controlVertices=this._controlVertices.filter((function(t){return t!==e})),this.handleCurveDegreeChange()},e.prototype.handleCurveDegreeChange=function(){var e=this.controlVertices.length;this._controlVertices.forEach((function(e,t){return e.label="P_{"+t+"}"})),this.deCasteljauVis.onlyDrawPointOnBezier=e<3,this.controlsForT.visible=e>1,this.notifyObservers("controlVerticesChanged")},e.prototype.subscribe=function(e){this.observers.push(e)},e.prototype.unsubscribe=function(e){this.observers=this.observers.filter((function(t){return t!==e}))},e.prototype.notifyObservers=function(e){this.observers.forEach((function(t){return t.update(e)}))},e}();t.BezierDemo=h;var u=function(){function e(e,t){var r=this;this.p5=e,this.demo=t,this.evaluationSteps=100,this.zeroToOne=n([],i(Array(this.evaluationSteps+1).keys())).map((function(e){return e/r.evaluationSteps})),this.color=e.color(30)}return e.prototype.draw=function(){var e=this;if(0!==this.demo.controlVertices.length&&1!==this.demo.controlVertices.length){var t=this.zeroToOne.map((function(t){return e.findPointOnCurveWithDeCasteljau(e.demo.controlVertices.map((function(e){return e.position})),t)}));t.forEach((function(r,i){i!==t.length-1&&l.drawLineVector(e.p5,r,t[i+1],e.color,2*e.demo.baseLineWidth)}))}},e.prototype.findPointOnCurveWithDeCasteljau=function(e,t){if(1===e.length)return e[0];var r=[];return e.forEach((function(i,n){if(n!==e.length-1){var o=s.default.Vector.lerp(i,e[n+1],t);r.push(o)}})),this.findPointOnCurveWithDeCasteljau(r,t)},e}(),p=function(){function e(e,t){this.p5=e,this.bezierCurve=t,this.onlyDrawPointOnBezier=!1,this.color=e.color("#E1B000"),this.colorOfPointOnBezier=e.color(c.default.errorColor)}return e.prototype.draw=function(){this.recursiveDraw(this.bezierCurve.controlVertices.map((function(e){return e.position})))},e.prototype.recursiveDraw=function(e){var t=this;if(0!==e.length)if(1!==e.length){var r=[];e.forEach((function(i,n){if(n!==e.length-1){var o=s.default.Vector.lerp(i,e[n+1],t.bezierCurve.t);t.onlyDrawPointOnBezier||(l.drawLineVector(t.p5,i,e[n+1],t.color,t.bezierCurve.baseLineWidth),l.drawCircle(t.p5,o,t.color,t.bezierCurve.basePointDiameter)),r.push(o)}})),this.recursiveDraw(r)}else l.drawCircle(this.p5,e[0],this.colorOfPointOnBezier,1.5*this.bezierCurve.basePointDiameter)},e}(),d=function(){function e(t,r,i,n){var o=this;this.demo=r,this.baseAnimationSpeedPerFrame=.005,this.currAnimationSpeedMultiplierIndex=e.animationSpeedMultipliers.findIndex((function(e){return 1===e})),this._animationRunning=!1,this.controlsContainer=t.createDiv(),i&&this.controlsContainer.parent(i),this.controlsContainer.class("flex-row center-cross-axis disable-dbl-tap-zoom prevent-text-select"),this.sliderLabel=t.createSpan("t: "+this.demo.t.toFixed(2)),this.sliderLabel.parent(this.controlsContainer),this.slider=t.createSlider(0,1,0,.00125),this.slider.parent(this.controlsContainer),this.slider.style("flex-grow","2"),this.slider.mousePressed((function(){return o.animationRunning=!1})),this.slowerButton=t.createButton('<span class="material-icons">fast_rewind</span>'),this.slowerButton.parent(this.controlsContainer),this.slowerButton.mouseClicked((function(){return o.rewindClicked()})),this.playPauseButton=t.createButton('<span class="material-icons">play_arrow</span>'),this.playPauseButton.parent(this.controlsContainer),this.playPauseButton.mouseClicked((function(){return o.animationRunning=!o.animationRunning})),this.visible=!1,this.fasterButton=t.createButton('<span class="material-icons">fast_forward</span>'),this.fasterButton.parent(this.controlsContainer),this.fasterButton.mouseClicked((function(){return o.fastForwardClicked()})),n&&(this.baseAnimationSpeedPerFrame*=n)}return Object.defineProperty(e.prototype,"visible",{set:function(e){this.controlsContainer.style("visibility",e?"visible":"hidden")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"animationRunning",{get:function(){return this._animationRunning},set:function(e){this._animationRunning=e,this._animationRunning?this.playPauseButton.html('<span class="material-icons">pause</span>'):this.playPauseButton.html('<span class="material-icons">play_arrow</span>')},enumerable:!1,configurable:!0}),e.prototype.updateT=function(){this.animationRunning?this.demo.t+=this.baseAnimationSpeedPerFrame*e.animationSpeedMultipliers[this.currAnimationSpeedMultiplierIndex]:this.demo.t=+this.slider.value()},e.prototype.updateSlider=function(){this.sliderLabel.html("t: "+this.demo.t.toFixed(2)),this.slider.value(this.demo.t)},e.prototype.fastForwardClicked=function(){this.animationRunning=!0,this.currAnimationSpeedMultiplierIndex<e.animationSpeedMultipliers.length-1&&this.currAnimationSpeedMultiplierIndex++},e.prototype.rewindClicked=function(){this.animationRunning=!0,this.currAnimationSpeedMultiplierIndex>0&&this.currAnimationSpeedMultiplierIndex--},e.animationSpeedMultipliers=[-4,-2,-1.5,-1,-.5,-.25,-.125,.125,.25,.5,1,1.5,2,4],e}()}}]);